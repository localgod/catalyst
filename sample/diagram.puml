@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

title Container diagram for Internet Banking System

Person(customer, "Personal Banking Customer", "A customer of the bank, with personal bank accounts.")

System_Boundary(c1, "Internet Banking System") {
    Container(web_app, "Web Application", "C#, ASP.NET Core 2.1, MVC", "Delivers the static content and the Internet banking single page application.")
    Container(spa, "Single-Page Application", "JavaScript and Angular", "Provides all of the Internet banking functionality to customers via their web browser.")
    Container(mobile_app, "Mobile App", "Xamarin", "Provides a limited subset of the Internet banking functionality to customers via their mobile device.")
    ContainerDb(database, "Database", "Relational Database Schema", "Stores user registration information, hashed authentication credentials, access logs, etc.")
}

System_Ext(mail_system, "E-mail system", "The internal Microsoft Exchange e-mail system.")
System_Ext(mainframe, "Mainframe Banking System", "Stores all of the core banking information about customers, accounts, transactions, etc.")

Rel(customer, web_app, "Visits bigbank.com/ib using", "HTTPS")
Rel(customer, spa, "Views account balances, and makes payments using", "")
Rel(customer, mobile_app, "Views account balances, and makes payments using", "")
Rel_Back(web_app, spa, "Delivers to the customer's web browser")

Rel(spa, mobile_app, "Makes API calls to", "JSON/HTTPS")
Rel(mobile_app, database, "Reads from and writes to", "SQL/TCP")
Rel(database, mail_system, "Sends e-mail using", "SMTP")
Rel(database, mainframe, "Uses", "XML/HTTPS")

@enduml